<!DOCTYPE html>
<html  lang="ko">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>태그: Autonomous - -Kimbaro&#39;s Archive</title>


    <meta name="description" content="-Kimbaro&#39;s Archive">
<meta property="og:type" content="website">
<meta property="og:title" content="-Kimbaro&#39;s Archive">
<meta property="og:url" content="https://kimbaro.github.io/tags/Autonomous/index.html">
<meta property="og:site_name" content="-Kimbaro&#39;s Archive">
<meta property="og:description" content="-Kimbaro&#39;s Archive">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://kimbaro.github.io/images/og_image.png">
<meta property="article:author" content="DongYeon Kim">
<meta property="article:tag" content="빽동 kimbaro">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kimbaro.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/androidstudio.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="-Kimbaro&#39;s Archive" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="검색" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">태그</a></li>
            <li class="is-active"><a href="#" aria-current="page">Autonomous</a></li>
        </ul>
        </nav>
    </div>
</div>

    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-01-18T07:52:43.000Z">2021-01-18</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Simulator/">Simulator</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Simulator/Carla-Simulator/">Carla-Simulator</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    한 시간 읽기 (대략 9788 단어)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2021/01/18/Carla-simulator/">오픈소스 기반의 자율주행 시뮬레이터 Carla를 활용한 시스템 개발기</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p>Project</p>
<ul>
<li>실세계 정보를 반영한 오픈소스 기반의 자율주행 시뮬레이션 시스템 설계 및 구현</li>
</ul>
<p>Prerequirements</p>
<ul>
<li>Python3.8</li>
<li>Carla-Simulator 0.9.9.4</li>
<li>PyCharm</li>
</ul>
<p>Python Package Index(PyPI)</p>
<ul>
<li>Future</li>
<li>Numpy</li>
<li>Pygame</li>
<li>Network</li>
<li>PyQt5</li>
</ul>
<p>Project link</p>
<ul>
<li><a href="https://github.com/Kimbaro/carlaAPI_Based.git">https://github.com/Kimbaro/carlaAPI_Based.git</a></li>
<li>(Git) <a href="https://github.com/Kimbaro/carlaAPI_Based.git">https://github.com/Kimbaro/carlaAPI_Based.git</a> -b 2020-12-08</li>
</ul>
<p>Carla Document</p>
<ul>
<li><a href="https://carla.readthedocs.io/en/0.9.9/">https://carla.readthedocs.io/en/0.9.9/</a></li>
</ul>
</blockquote>
<h2 id="들어가기-앞서"><a href="#들어가기-앞서" class="headerlink" title="들어가기 앞서"></a>들어가기 앞서</h2><p><a href="https://carla.readthedocs.io/en/0.9.9/tuto_A_add_map/" title="카라 도큐먼트 맵 생성">Carla Document</a>에 신규 맵 생성에 관한 내용이 삭제/변경됨에 따라 RoadRunner를 통한 생성 방법만 명시하고 있어 기존 신규 맵 생성에 관한 내용을 공유함.</p>
<ul>
<li><a href="/images/Carla-simulator/FBX-적용.pdf">OpenDRIVE 적용</a></li>
<li><a href="/images/Carla-simulator/OpenDRIVE-적용.pdf">FBX 적용</a></li>
</ul>
<h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><h2 id="과제내용"><a href="#과제내용" class="headerlink" title="과제내용"></a>과제내용</h2><p>최근 자율주행을 위한 기술개발 과정에서 실세계의 다양한 학습데이터를 활용한 딥러닝 기술이 활발히 이용되고 있다. 그러나 자율주행 알고리즘의 성능에 핵심적인 역할을 하는 날씨, 도로환경, 교통정보 등의 다양하게 변화하는 상황을 반영하기 위한 학습데이터 수집 과정은 다양한 시공간적 한계가 발생하게 된다.<br>또한 학습 데이터 수집을 위한 Camera, Lidar, GPS 등 고성능의 센서도 함께 요구되며 이에 따른 고비용의 센서의 활용 측면에서도 고려하지 않을 수 없다.<br>다양한 상황을 반영하는 학습데이터 수집에 있어서 이러한 과정들은 엄청난 비용 및 시간이 소요되는 문제가 발생할 뿐더러 실세계에서 다양한 시나리오 속 자율주행 차량의 학습 데이터 수집 과정에서도 주행 중의 안정적인 측면 또한 고려해야 한다. </p>
<p>이에 본 연구에서는 기존의 고정밀 공간정보를 이용하여 실세계를 모사한 가상환경 기반의 자율주행 시뮬레이션 시스템을 설계 및 구현하고자 한다.<br>개발되는 시스템은 시공간적 한계를 극복하고 비용 및 시간 효율적으로 다양한 상황의 자율주행을 위한 학습데이터를 수집할 수 있을 것으로 기대된다.<br>구체적으로 가상환경은 브이월드의 3차원 공간정보와 국토지리정보원 정밀도로지도를 융합하여 구축하며, 자율주행 시뮬레이션 시스템은 <a href="http://proceedings.mlr.press/v78/dosovitskiy17a/dosovitskiy17a.pdf" title="CARLA, 2017, CARLA: An Open Urban Driving Simulator">CARLA</a>의 오픈소스를 확장하여 설계 및 구현한다.<br>이를 기반으로 학습데이터 수집을 위한 차량인 Data Collection Vehicle(DCV)를 타겟으로 컴퓨터 스스로 목적지를 판별하는 목적지자율주행이나 클라이언트가 선정한 임의 목적지를 주행하는 목적지임의주행을 제공하며 주행 차량의 운전 성향을 설정하여 공격적이거나 방어적인 운전을 수행하고 차량을 추월하거나 신호를 무시하는 행동을 취할 수 있다.<br>데이터 수집을 위한 센서 활용에 있어서 가상환경의 특성상 탈부착이나 고장의 발생 등 여러 고려해야할 상황으로 부터 자유롭다. 실세계 주행환경을 반영하여 시공간적 제약을 받는 날씨, 도로환경, 교통정보를 자유롭게 반영할 수도 있다.<br>학습데이터 수집 뿐만 아니라 실세계 신호체계를 반영하여 교통정보를 모니터링도 가능하다. 본 연구에서는 실세계 정밀도로지도를 반영한 가상환경에서의 데이터 수집과 차량 주행을 수행하는 시스템을 설계하고 구현한 내용을 소개한다</p>
<h2 id="관련기술"><a href="#관련기술" class="headerlink" title="관련기술"></a>관련기술</h2><table>
<thead>
<tr>
<th></th>
<th><strong>Technology Companies</strong></th>
</tr>
</thead>
<tbody><tr>
<td><a href="http://www.aitimes.com/news/articleView.html?idxno=129688" title="AI타임스, 2020, 웨이모ᆞ우버, 자율주행용 AI 신기술 공개">Waymo (Google)</a></td>
<td>Google-Brain과의 공동프로젝트로 이미지 데이터와 라이다 데이터를 활용해 해당 카메라 시점에서의 물체의 깊이를 예측할 수 있는 ViDAR를 발표하였다.</td>
</tr>
<tr>
<td><a href="http://www.aitimes.com/news/articleView.html?idxno=129688" title="AI타임스, 2020, 웨이모ᆞ우버, 자율주행용 AI 신기술 공개">Uber</a></td>
<td>자율주행 환경에서 무선 네트워크에 연결된 자율주행 차량 간 데이터셋과 타임 스탬프 및 위치정보를 포함한 정보 교환으로 라이더 센서의 인식률을 높힌 V2VNET 기술을 발표하였다.</td>
</tr>
<tr>
<td><a href="https://www.nvidia.com/content/dam/en-zz/Solutions/self-driving-cars/drive-constellation/nvidia-drive-constellation-datasheet-2019-oct.pdf" title="NVIDIA, 2019, NVIDIA DRIVE CONSTELLATION">NVIDIA</a></td>
<td>DRIVE sim 소프트웨어로 가상환경에서의 학습데이터 수집과 실세계에서의 학습데이터를 수집하여 두 환경에서의 3차원 맵핑으로 실제 환경에서 주행하는 듯한 환경을 구성하여 센서 데이터를 수집한다.</td>
</tr>
<tr>
<td></td>
<td><strong>Open Source Simulations and/or Providers</strong></td>
</tr>
<tr>
<td><a href="http://proceedings.mlr.press/v78/dosovitskiy17a/dosovitskiy17a.pdf" title="CARLA, 2017, CARLA: An Open Urban Driving Simulator">CARLA</a></td>
<td>자율주행을 위한 오픈소스 기반의 시뮬레이터로 Intel Labs, Toyota Research Institude 등 업체와 연계하고 있다. 차량 인식과 제어 등 다양한 테스트가 가능하다.</td>
</tr>
<tr>
<td><a href="https://microsoft.github.io/AirSim/paper/main.pdf" title="Microsoft, 2017, AirSim: High-Fidelity Visual and Physical Simulation for Autonomous Vehicles">Microsoft AirSim</a></td>
<td>드론, 자동차 등을 위한 환경으로 오픈소스 기반의 시뮬레이터 이다. 자율주행을 위한 딥러닝의 강화학습을 수행할 수 있다.</td>
</tr>
</tbody></table>
<h1 id="본문-1"><a href="#본문-1" class="headerlink" title="본문(1)"></a>본문(1)</h1><h2 id="정밀도로지도변환-NGII-HD-Map-gt-OpenDRIVE-변환-및-적용-시연-여의도"><a href="#정밀도로지도변환-NGII-HD-Map-gt-OpenDRIVE-변환-및-적용-시연-여의도" class="headerlink" title="(정밀도로지도변환) NGII HD Map -&gt; OpenDRIVE 변환 및 적용 시연(여의도)"></a>(정밀도로지도변환) NGII HD Map -&gt; OpenDRIVE 변환 및 적용 시연(여의도)</h2><div style="text-align : center;">
    <video width="600" controls>
        <source src="/images/Carla-simulator/1_video.mp4" type="video/mp4">
    </video>
</div>

<h2 id="기존정밀도로지도-분석-및-변환내용"><a href="#기존정밀도로지도-분석-및-변환내용" class="headerlink" title="기존정밀도로지도 분석 및 변환내용"></a>기존정밀도로지도 분석 및 변환내용</h2><p>본 제안된 시스템의 실세계 모사한 환경은 국토지리정보원의 수집된 정밀도로지도 데이터와  브이월드의 3차원 입체모형을 반영하여 가상환경을 구성한다.<br>국토지리정보원의 정밀도로지도는 ESRI ShapeFile 형태의 포멧으로 구성된다. 본 제공된 ShapeFile은 .shp, .shx, .dbf 형식의 데이터로 이뤄져 있다. </p>
<ul>
<li>.shp(shape format)파일은 벡터형식의 도형정보를 표현하며 정밀도로지도에서는 도로를 도형으로써 폴리곤을 정의하고 있으며 해당 도형의 좌표 데이터를 포함한다. </li>
<li>.shx(shape index format)파일은 .shp에 정의된 도로 레이어의 정보를 담고 있다. </li>
<li>.dbf파일은 도로의 속성정보를 담고 있으며 dBase형식을 사용한다. </li>
</ul>
<p>이러한 형식은 전체 도로를 구성하는 각 레이어를 중심으로한 비계층적 구조이며 Bottom-Up 방식으로 정의되어 있다.<br>본 제안된 시스템에서 활용된 자율주행 시뮬레이션 플랫폼은 국토지리정보원에서 제공된 ESRI ShapeFile 포멧이 아닌 산업계 표준 데이터 모델인 OpenDRIVE 형태의 포멧을 요구한다.<br>해당 포멧은 계층적 구조를 가지며 도로 또는 시설물에 대해 Top-Down 방식으로 이뤄져있다. 이러한 방식은 도로중심선(ReferenceLine)을 기준으로 차로, 교차로 및 주변 시설물로 정의된다. 데이터는 XML 형식으로 구성된다.</p>
<div style="text-align : center;">
<img src="/images/Carla-simulator/1.png" width="600"/>
</div>

<p>정밀도로지도 데이터와 OpenDRIVE는 계층적 구조가 다른 문제점이 발생하며 아울러 표현 대상 및 구조적 속성, 형식등 상이하는 문제가 발생하게 된다.<br>때문에 두 데이터 모델은 상호 불일치하거나 데이터의 항목이 일치하더라도 세부적으로 서로 다른 문제가 발생하며 이러한 문제로 인하여 상호 호환 및 변환을 위한 추가적인 작업 및 데이터 가공 작업이 상당히 필요함을 알 수 있다.<br>국토지리정보원의 데이터 모델은 아래와 같이 기존 네비게이션 지도에서 활용되었던 노드-링크 체계 개념을 각 차로 별로 확장하여 차로 및 도로 시설물 들을 표현 할 수 있는 14개의 레이어로 정의한다.<br>여기서 <strong><em>객체 중심의 계층적으로 정의된 OpenDRIVE와 개별 레이어로 정의된 국토지리정보원의 데이터 모델간의 많은 차이로 인하여 상호 호환 및 변환 과정에서 다양한 문제가 발생</em></strong>한다.</p>
<div style="text-align : center;">
<img src="/images/Carla-simulator/2.png" width="600"/>
</div>

<ol>
<li>첫째 <ul>
<li>국토지리정보원의 정밀도로지도 데이터는 도로중심선(Reference Line)이 정의되어 있지 않아 OpenDRIVE 형식으로 변환 하기 어려운 문제가 발생한다. </li>
</ul>
</li>
<li>둘째 <ul>
<li>개별 차로의 표현과 관련해서도 OpenDRIVE는 차로 폭을 포함하는 세부정보 등을 정의하고 있으나 국토지리정보원의 데이터는 차로 중심선만을 정의하고 있으며 부실한 세부정보로 인해 교차로의 구분이 모호하다. 또한 각 도로의 차선 폭 데이터가 존재하지 않아 국토지리정보원의 정밀도로지도에서 특수 추가차선(좌회전 전용, 유턴전용 등)의 차선번호 지정방식과 OpenDRIVE방식과의 차이가 존재했다.</li>
</ul>
</li>
</ol>
<div style="text-align : center;">
<img src="/images/Carla-simulator/3.png" width="600"/>
</div>

<ol start="3">
<li>셋째 <ul>
<li>OpenDRIVE는 도로와 교차로를 구분하여 교차로의 세부적인 표현을 위한 Junction 객체를 별도로 정의하고 있으나 국토지리정보원의 데이터는 교차로 정보에 대해서도 노드-링크 체계로 이뤄져 있어 각각을 검색해 추출해야하는 문제점이 발생한다. </li>
</ul>
</li>
<li>넷째 <ul>
<li>OpenDRIVE는 곡선 형태의 도로표현을 지원하고 있어 자유롭게 도로의 꺾임 정도를 표현할 수 있다. 하지만 국토지리정보원의 데이터는 이를 지원하지 않아 곡선 형태의 도로를 노드-링크 체계의 여러개의 직선도로로 연결하여 표현해야한다.</li>
</ul>
</li>
</ol>
<p>본 연구에서는 아래 표와 같이 데이터 변환을 위하여 NGII HD Map의 개별 레이어들을 OpenDRIVE 객체로 간략히 매핑하였다. 아울러 이러한 매핑 과정에서 위에서 언급된 네 가지 문제를 해결할 수 있는 데이터 변환 방안을 제안하고 있다.</p>
<div style="text-align : center;">
<img src="/images/Carla-simulator/4.png" width="600"/>
</div>

<ol>
<li>첫째 <ul>
<li>구체적으로 NGII HD Map의 도로중심과 가장 유사한 레이어를 선택하여 OpenDRIVE의 도로중심선(ReferenceLine)을 생성한다. 이러한 과정은 다음과 같이 도로 중심선에서 가장 가까운 지점에 위치한 양방향의 A2_LINK의 차로정보를 검색한다</li>
</ul>
</li>
<li>둘째 <ul>
<li>차로 폭 문제는 실측된 정밀도로지도 데이터와 완전히 일치하지 않을 수 있지만, 국토부 법령에서 정한 3m 또는 3.25m를 이용하여 일률적으로 지정하였다. </li>
</ul>
</li>
<li>셋째 <ul>
<li>세부적인 교차로내의 회전 정보 및 도로 연결 정보 등의 표현 문제는 NGII HD Map에서 교차로를 의미하는 속성정보를 이용하여 이와 연결되는 차로의 A2_LINK를 모두 찾아서 정보를 입력하였다. </li>
</ul>
</li>
</ol>
<div style="text-align : center;">
<img src="/images/Carla-simulator/5.png" width="600"/>
</div>

<ol start="4">
<li>넷째<ul>
<li>아래의 그림은 여의도 지역의 NGII HD Map으로부터 OpenDRIVE의 ReferenceLine을 추출한 예제를 보여준다.</li>
</ul>
</li>
</ol>
<div style="text-align : center;">
<img src="/images/Carla-simulator/6.png" width="600"/>
</div>

<h1 id="본문-2"><a href="#본문-2" class="headerlink" title="본문(2)"></a>본문(2)</h1><h2 id="시스템개발-시스템-주행환경-제어-시연"><a href="#시스템개발-시스템-주행환경-제어-시연" class="headerlink" title="(시스템개발) 시스템 주행환경 제어 시연"></a>(시스템개발) 시스템 주행환경 제어 시연</h2><div style="text-align : center;">
    <video width="600" controls>
        <source src="/images/Carla-simulator/2_video.mp4" type="video/mp4">
    </video>
</div>

<h3 id="CARLA의-오픈소스-기반-자율주행-시뮬레이션-제어-시스템-설계-및-구현"><a href="#CARLA의-오픈소스-기반-자율주행-시뮬레이션-제어-시스템-설계-및-구현" class="headerlink" title="CARLA의 오픈소스 기반 자율주행 시뮬레이션 제어 시스템 설계 및 구현"></a>CARLA의 오픈소스 기반 자율주행 시뮬레이션 제어 시스템 설계 및 구현</h3><ul>
<li><p>CARLA는 Unreal Engine에서 OpenDRIVE의 XODR 포맷과 Autodesk MotionBuilder의 FBX 포맷을 사용함</p>
<ol>
<li>XODR은 road network 정보를 가진 포맷으로 XML로부터 확장되고 계층 구조를 가짐</li>
<li>FBX는 2D 또는 3D 객체 및 콘텐츠 정보 표현을 위한 포맷으로 3D 응용 프로그램임</li>
</ol>
</li>
<li><p>실세계 3D 도시모델 CARLA 시뮬레이션 맵에 가시화 방법</p>
<ol>
<li>브이월드에서 제공되는 FBX 형태의 3차원 건물 입체모형을 CARLA 3D 도시모델 데이터로 Import 함</li>
<li>국토지리정보원에서 제공되는 정밀도로지도 데이터(GIS ShapeFile)의 Converting Module을 개발하여 이를 활용해 OpenDrive Format 데이터 생성 및 Import 함</li>
</ol>
</li>
</ul>
<div style="text-align : center;">
<img src="/images/Carla-simulator/7.png" width="600" alt="실세계 모사 3차원 도시모델 생성 과정"/>
</div>

<h3 id="본-시스템은-Simulation을-위한-서버와-제어-및-접근을-위한-클라이언트로-나뉨"><a href="#본-시스템은-Simulation을-위한-서버와-제어-및-접근을-위한-클라이언트로-나뉨" class="headerlink" title="본 시스템은 Simulation을 위한 서버와 제어 및 접근을 위한 클라이언트로 나뉨."></a>본 시스템은 Simulation을 위한 서버와 제어 및 접근을 위한 클라이언트로 나뉨.</h3><ul>
<li><p>Simulation </p>
<ul>
<li>3차원 도시모델을 생성하기 위해 UE4의 <strong><em>import static mesh</em></strong> 옵션을 적용하여 3차원 도시모델 데이터를 가상환경에 배치함</li>
<li><strong><em>generate routes</em></strong> 옵션으로는 CARLA UE4에서 OpenDRIVE에 정의된 도로네트워크를 구성하기 위해 제공된 Plugin임</li>
</ul>
</li>
<li><p>Client </p>
<ul>
<li>가상환경 내 발생한 모든 동적 오브젝트의 정보를 RPC 프로토콜을 활용해 서버와 연결된 모든 사용자들과 이벤트 정보를 동기화함</li>
<li>자율주행에 필요한 센서, 교통정보, 차량이벤트 같은 API와 RPC 프로토콜이 포함된 패키지에 의존하여 기능이 구현됨</li>
<li>Sensor API로는 실세계 자율주행에 필요한 지능형운전자보조시스템(ADAS, Advanced Drive Assistance)의 기능을 수행하기 위한 대부분의 센서들이 제공됨</li>
<li>Traffic API는 신호등제어, 교통흐름제어, 사고제어 상황을 구현하기 위한 기능을 제공함</li>
<li>Vehicle Event API의 경우 충돌, 차선변경, 장애물감지 등 상황 구현을 위한 기능으로 자율주행 차량의 주행과정에 있어 발생한 이벤트 정보가 반환됨</li>
</ul>
</li>
</ul>
<div style="text-align : center;">
<img src="/images/Carla-simulator/8.png" width="600" alt="시뮬레이션과 클라이언트 간 시스템 구성"/>
</div>

<ul>
<li><p>CARLA는 총 4개의 Core concept으로 분류할 수 있음</p>
<ul>
<li><p>World and client</p>
<ul>
<li>World는 actor 생성, 날씨 변화 등 시뮬레이션 환경의 전반에 대한 API를 포함하고 있음.</li>
<li>client는 Server(Simulation)에 접근하여 환경정보 및 개체제어를 요청할수 있음</li>
<li>TCP/UDP방식의 연결로 RPC library를 통한 API 호출로 시뮬레이션 제어를 요청할 수 있음 </li>
</ul>
</li>
<li><p>Actors and blueprints</p>
<ul>
<li>가상환경에 오브젝트를 생성하기 위해선 아래의 이미지와 같은 구조의 블루프린트를 자유롭게 읽어올 수 있어야함</li>
<li>구성은 List 타입의 BlueprintLibrary와 ActorBlueprint인자의 모음으로 볼 수 있음</li>
<li>Actor의 종류에 따라 할당되는 ActorBlueprint 속성이 다름<div style="text-align : center;">
<img src="/images/Carla-simulator/9.png" width="400" alt="Carla Blueprint 구조"/>
</div>
</li>
</ul>
</li>
<li><p>Maps and navigation</p>
<ul>
<li>Map은 3D 도시모델 FBX와 OpenDRIVE Standard 1.4 기반의 데이터를 바인딩하며 본 연구에서는 Python Class에서 해당 정보를 참조함</li>
<li>가상환경내 위치정보와 주행경로생성, 보행자 및 차량 생성 등 위한 위치정보는 Waypoint 객체를 통해 얻어옴</li>
<li>Waypoint는 차선 및 도로정보를 알 수 있음</li>
<li>transform은 Waypoint에 포함된 객체이며 3D Actor들의 위치, 방향에 대한 정보를 담고 있음</li>
</ul>
</li>
<li><p>Sensors and data</p>
<ul>
<li>센서는 데이터를 측정하고 송출할 수 있는 Actor임</li>
<li>일반적으로 차량에 부착되고, 시뮬레이션의 FPS에 따라 센서 정보가 업데이트되며 클라이언트는 해당 센서 정보를 PythonAPI를 통해 동기화함</li>
<li>차량의 차선변경이나 충돌 등을 감지하기 위한 근접센서, Camera의 이미지 수집 센서, 주행 중 물체를 감지하기 위한 Radar, LIDAR 센서들에 대한 시뮬레이션 기능을 위한 API를 제공</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="설계"><a href="#설계" class="headerlink" title="설계"></a>설계</h3><div style="text-align : center;">
<img src="/images/Carla-simulator/10.png" width="600" alt="시스템 개발을 위한 시퀀스모델"/>
</div>

<p>본 연구의 시스템을 개발하기 위해 위과 같이 시퀀스모델을 작성하였다.<br>Traffic API를 활용해 대상 차량의 주행 기능을 구현하기 위한 부분과 Sensor API를 활용해 대상 차량에 개수와 상관없이 자유롭게 센서를 생성하고 부착하며 그 외에 Weather와 NPC를 Spawn하기 위한 API를 활용한다.<br>이는 자율주행 학습데이터를 수집하기 위해 다양한 날씨와 같은 환경구성과 도로의 표면을 설정하고 주행 환경을 위해 보행자와 여러 차량을 생성하기 위한 목적을 가진다.<br>환경을 구성하는 등 변화를 주는 경우 세부적으로 비의 강도, 물 웅덩이, 바람의 강도를 설정할 수 있게된다.</p>
<p>User는 Run-Time Module로 start_module.py을 실행한다.<br>실행 모듈은 Multi-Threading 방식으로 동작하여 크게 두 가지 항목으로 분류된다. </p>
<ol>
<li><p>Driving module은 Data Collection Vehicle(DCV)를 생성하고 해당 차량의 BP(Blueprint)의 속성(Attribute)를 설정한다. </p>
<ul>
<li>본 시스템은 BP의 “rolename”이란 이름에 “hero”란 값을 입력하여 DCV를 구분한다.<br>다음으로 User는 Driving module에서 DCV가 자율주행을 하게끔 설정할 수 있고 임의 목적지를 선택하여 주행하도록 설정할 수 있다.<br>주행여부를 선택한 경우 반환된 route-list를 참조하여 DCV는 주행을 시작하고 도착한 경우 이와 같은 현상을 반복하여 주행하게 된다.</li>
</ul>
</li>
<li><p>GUI module은 Carla_GUI.py에서 실행되며 PyQt5 Library를 활용해 GUI를 구성한다. </p>
<ul>
<li>enviroment config remote에서 생성된 주행 차량의 BP(Blueprint)를 검색해 속성(Attribute)이름이 “rolename”인 BP들 중에서 “hero”인 값을 검색한다.<br>대상 차량을 찾았다면 MVC 패턴의 동작구조로 로직이 수행된다.<br>PyQt5로 구현된 GUI는 View 부분으로써 사용자로 부터 각각의 컴포넌트에 입력을 기다린다.<br>사용자는 NPC, Weather, Sensor의 항목을 선택하여 값을 할당한다. NPC의 경우 생성될 보행자와 주행 차량의 대수를 반환하며 Weather의 경우 날씨정보를 반영하기 위한 설정 정보를 입력받는다.<br>Sensor의 경우 앞서 언급한 Camera의 RGB, Depth 와 Lidar를 부착할 수 있다.<br>컴포넌트를 입력한 경우 Controller는 입력된 NPC, Weather, Sensor를 파악하고 이에 따른 기능을 수행하기 위해 Model에 전달하여 컴포넌트에 입력한 값에 해당하는 이벤트 콜백 함수들을 실행하여 시뮬레이션에 반영한다. </li>
</ul>
</li>
</ol>
<hr>

<h2 id="1-Driving-module"><a href="#1-Driving-module" class="headerlink" title="1. Driving module"></a>1. Driving module</h2><p>CARLA package를 이용해 2D 렌더링 환경에서 자율주행 시뮬레이션 시스템의 Data Collection Vehicle(DCV) 제어를 구현함</p>
<ul>
<li><p>2D Rendering</p>
<ul>
<li>class HUD_Main : 가상환경내 NPC, DCV같은 오브젝트들의 서페이스정보를 설정하여 화면에 렌더링하며 출력될 텍스트 속성을 설정할 수 있음 (UE4에 생성된 BP 오브젝트를 그려넣음)</li>
<li>class InputControl : 클라이언트의 키보드입력으로 목적지를 지정하거나 지도의 포커스를 변경할 수 있음</li>
<li>class World : 도트로 맵을 그려넣어 가상환경을 2D로 표현하였음 (OpenDRIVE의 도로데이터를 참조하여 표현함)</li>
</ul>
</li>
<li><p>Route Plan</p>
<ul>
<li>global_route_planner.py : DCV의 최단경로 데이터 반환 (Python Lib NetworkX)</li>
<li>local_planner_behavior.py : DCV의 PID제어기를 설정하여 전후방/좌우 방향을 제어</li>
<li>behavior_agent.py: DCV의 유동적인 주행을 위해 보행자, 차량, 신호등, 표지판 등에 대한 이벤트를 구성하여 주행 시나리오를 작성하고 이를 수행함</li>
</ul>
</li>
</ul>
<div style="text-align : center;">
<img src="/images/Carla-simulator/18.png" width="600" alt="screen_in_no_rendering_mode.py의 클래스구조"/>
</div>

<h3 id="DCV의-주행기능-개요"><a href="#DCV의-주행기능-개요" class="headerlink" title="DCV의 주행기능 개요"></a>DCV의 주행기능 개요</h3><blockquote>
<p>Screenshot</p>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/19.png" width="600"/>
 </div>

<p>Main에서 DCV를 스폰하고 주행속도, 시작과 끝지점, 주행 스타일을 설정함<br>생성된 DCV의 제어를 위해 loop 로직을 수행하며 agent로부터 반환받은 waypoints_queue는 주행차량의 루트플랜을 나타냄</p>
<ol>
<li>alt1==TRUE인 경우 루트플랜이 num_min_waypoints의 값보다 많은 경우 다음 주행동선의 시나리오를 수행하며 FALSE인 경우 alternative2 로직을 수행함</li>
<li>alt2==TRUE인 경우 루트플랜 정보가 담긴 waypoints_queue의 길이가 1이하인 경우를 뜻하며 사용자가 지정한 목적지의 경로를 반환받거나 임의 목적지 경로를 반환받으며 FALSE인 경우 주행동선의 시나리오를 수행함</li>
<li>alt3==TRUE인 경우 본 연구 목적에 맞게 확장된 reroute_auto() 메서드를 수행함 이는 차량위치를 기준으로 특정 거리만큼의 위치를 임의목적지로 설정하여 루트플랜을 반환받으며 주행동선의 시나리오를 수행함</li>
<li>alt3==FALSE인 경우 본 연구 목적에 맞게 확장된 reroute_self() 메서드를 수행함 이는 2D 렌더링 화면에서 사용자가 선택한 목적지만큼의 루트플랜을 반환받음 이후 주행동선의 시나리오를 수행함</li>
<li>조건 분기로직을 모두 수행한 후 run_step()을 호출하여 다음 경로선상의 waypoint 까지 주행을 하게됨</li>
<li>apply_control은 DCV가 다음 경로선상의 waypoint 까지 주행을 위해 전/후방 방향과 차량의 속도 값이 계산된 값을 Server(Simulation)에 전달하여 원하는 주행을 행동하게끔 요청함</li>
</ol>
</blockquote>
<h3 id="screen-in-no-rendering-mode-py-Main"><a href="#screen-in-no-rendering-mode-py-Main" class="headerlink" title="screen_in_no_rendering_mode.py(Main)"></a>screen_in_no_rendering_mode.py(Main)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python">target = world.try_spawn_actor(blueprint, spawnpoint)<br><span class="hljs-comment"># modules init</span><br>input_control = key_util.InputControl(<span class="hljs-string">"input control title"</span>, world, map)<br>hud = hud_util.HUD_Main(<span class="hljs-string">"hud title"</span>, args.width, args.height)<br>rendering_world = core_util.World(client, target, <span class="hljs-string">"Simulator Info"</span>, args, timeout=<span class="hljs-number">2.0</span>)<br><br><span class="hljs-comment">### 경로추적 생성.</span><br>start_POI = map.get_waypoint(spawnpoint.location)<br>routeManager = VehicleRouteManager(world, map, target, <span class="hljs-number">20</span>, start_POI)<br><br><span class="hljs-comment"># modules start</span><br>input_control.start(hud, rendering_world)<br>print(<span class="hljs-string">"system : check input_control"</span>)<br>hud.start()<br>print(<span class="hljs-string">"system : check hud"</span>)<br>rendering_world.start(hud, input_control)<br>print(<span class="hljs-string">"system : check rendering_world"</span>)<br><br><span class="hljs-comment"># Game loop</span><br>clock = pygame.time.Clock()<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    clock.tick_busy_loop(<span class="hljs-number">20</span>)<br><br>    <span class="hljs-comment"># Tick all modules</span><br>    routeManager.tick(target)<br></code></pre></td></tr></table></figure>

<h3 id="VehicleRouteManager-py"><a href="#VehicleRouteManager-py" class="headerlink" title="VehicleRouteManager.py"></a>VehicleRouteManager.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VehicleRouteManager</span><span class="hljs-params">(BehaviorAgent)</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, world, map, target, speed=<span class="hljs-number">20.0</span>, start_POI=None, end_POI=None)</span>:</span><br>        self.world = world<br>        self.map = map<br>        self.debug = world.debug<br>        self._start_POI = start_POI  <span class="hljs-comment"># 시작지점</span><br>        self._end_POI = end_POI  <span class="hljs-comment"># 끝지점</span><br>        <span class="hljs-comment"># self.waypoints = map.generate_waypoints(5.0)</span><br>        self.spawn_points = self.map.get_spawn_points()<br>        self.speed = speed<br>        self.destination_loc = <span class="hljs-literal">None</span>  <span class="hljs-comment"># 타겟의 현재 경유지점</span><br>        self.log_check = <span class="hljs-literal">False</span>  <span class="hljs-comment"># 타겟차량의 속도와 이동경로 신호등</span><br>        self.move_key = <span class="hljs-literal">None</span><br><br>        <span class="hljs-string">"""<br>        var name 'behavior'<br>        cautious : 약한주행운전<br>        normal : 기본<br>        aggressive : 강한주행운전<br><br>        var name 'ignore_traffic_light'<br>        True : 신호무시<br>        False : <br>        """</span><br>        self.agent = BehaviorAgent(target, ignore_traffic_light=<span class="hljs-literal">False</span>, behavior=<span class="hljs-string">'cautious'</span>)  <span class="hljs-comment"># agent</span><br>        self.control = <span class="hljs-literal">None</span>  <span class="hljs-comment"># 차량의 세부 제어.</span><br>        self.routeDestinationList = Stack()  <span class="hljs-comment"># 경유지 목록</span><br>        self.routePlannerList = []<br>        self.num_min_waypoints = <span class="hljs-number">2</span>  <span class="hljs-comment"># 다음 경유지 탐색 시작은 루트플래너 큐리스트에 저장된 웨이포인트가 해당 값 미만 인 경우 시작함.</span><br>        self.test_count = <span class="hljs-number">0</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_route</span><span class="hljs-params">(self, waypoint)</span>:</span>  <span class="hljs-comment"># 경유할 목적지 등록.</span><br>        self.routeDestinationList.push(waypoint)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tick</span><span class="hljs-params">(self, target)</span>:</span><br>        remaining_count = len(self.agent.get_local_planner().waypoints_queue)  <span class="hljs-comment"># 타겟차량 루트플랜의 웨이포인트 큐 길이</span><br>        <span class="hljs-keyword">if</span> remaining_count &gt; self.num_min_waypoints:<br>            self.agent.update_information()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> remaining_count &lt;= <span class="hljs-number">1</span>:  <span class="hljs-comment"># 루트플랜의 경로 포인트가 1 이하 일때</span><br><br>                <span class="hljs-keyword">if</span> self.routeDestinationList.is_empty(): <span class="hljs-comment"># 사용자 목적지 선택 지점의 경로 스택이 비어있음.</span><br>                    self.test_count += <span class="hljs-number">1</span><br>                    route = self.agent.reroute_auto()<br>                    self.routePlannerList = route  <span class="hljs-comment"># 시작점과 끝나는 지점의 Waypoint list 를 반환</span><br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># 사용자가 선택한 임의 목적지로 경로 할당</span><br>                    end = [self.routeDestinationList.pop(<span class="hljs-number">0</span>)]<br>                    route = self.agent.reroute_self(end)<br>                    self.routePlannerList = route<br>                self.agent.update_information()<br>            <span class="hljs-keyword">else</span>:<br>                self.agent.update_information()<br><br>        control = self.agent.run_step()  <span class="hljs-comment"># 위 로직 설정 적용 및 동작시작.</span><br>        self.agent.vehicle.apply_control(control)  <span class="hljs-comment"># return -&gt; carla.VehicleControl</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>Screenshot - 기능동작</p>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/20.png" width="600" alt="DCV가 참조가능한 경로점(왼), 반환된 루트플랜의 주행경로리스트(오)"/>
 </div>
</blockquote>
<hr>

<h2 id="2-GUI-module"><a href="#2-GUI-module" class="headerlink" title="2. GUI module"></a>2. GUI module</h2><p>자율주행 시뮬레이션 시스템에 NPC 생성, 시간, 날씨, 차량 등의 속성 파라미터를 변경하거나 센서 데이터 수집과 같은 환경을 구성하기위한 기능은 위에 제시된 “시스템 개발을 위한 시퀀스모델” 에서의 GUI module부분에서 구현됨.</p>
<ul>
<li>GUI에서 NPC 생성을 위한 NPC_Spawn 항목은 버튼 클릭 시 NPC_Manager class에서 수행하며 차량은 ui_world_npc_vehicle 함수, 보행자는 ui_world_npc_walker 함수에서 기존에 생성된 차량과 보행자를 제거하고 생성됨</li>
<li>GUI에서 Time_Control 항목과 Weather_Control 항목은 각각 시간을 제어하고 날씨를 변경함</li>
<li>class Weather_Manager : 가상환경의 환경적요소를 다루며 세부적으로 시간을 제어하기 위한 Sun과 안개, 비, 바람과 같은 자연환경을 제어하기 위한 Storm이 있음</li>
</ul>
<div style="text-align : center;">
<img src="/images/Carla-simulator/11.png" width="600" alt="Carla_GUI.py의 클래스구조"/>
</div>

<h3 id="NPC-생성-시간-날씨-차량-등의-파라미터-변경-프로그램-개요"><a href="#NPC-생성-시간-날씨-차량-등의-파라미터-변경-프로그램-개요" class="headerlink" title="NPC 생성, 시간, 날씨, 차량 등의 파라미터 변경 프로그램 개요"></a>NPC 생성, 시간, 날씨, 차량 등의 파라미터 변경 프로그램 개요</h3><blockquote>
<p>Screenshot</p>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/12.png" width="300"/>
 </div>

<p>PyQt를 사용해 UI를 구성함</p>
<ul>
<li>Replace 버튼이 눌렸을 때 editbox 숫자로 보행자와 차량을 생성함</li>
<li>시간은 Radio Button으로 설정하며 날씨는 Slider로 설정함, Dynamic을 선택 시 동적으로 설정됨</li>
</ul>
</blockquote>
<h3 id="Carla-GUI-py"><a href="#Carla-GUI-py" class="headerlink" title="Carla_GUI.py"></a>Carla_GUI.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ui_world_npc_walker</span><span class="hljs-params">(self, input_number)</span>:</span>   <span class="hljs-comment"># 보행자 생성 함수</span><br>    SpawnActor = self.carla_package[<span class="hljs-number">0</span>]<br>    DestroyActor = self.carla_package[<span class="hljs-number">4</span>]<br><br>    <span class="hljs-keyword">if</span> len(self.walkers_list) &gt;= <span class="hljs-number">1</span>:  <span class="hljs-comment"># 생성된 워커 제거</span><br>        self.client.apply_batch([DestroyActor(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> self.all_id])<br>        self.all_id = []<br>        self.walkers_list = []<br>        time.sleep(<span class="hljs-number">0.5</span>)<br><br>    <span class="hljs-keyword">if</span> input_number &gt; <span class="hljs-number">0</span>:<br>        percentagePedestriansRunning = <span class="hljs-number">0.0</span>  <span class="hljs-comment"># 달리는 보행자 수</span><br>        percentagePedestriansCrossing = <span class="hljs-number">0.0</span>  <span class="hljs-comment"># 걷는 보행자 수</span><br><br>        <span class="hljs-comment"># 1. 생성하기 위한 랜덤 위치를 선택</span><br>        spawn_points = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(input_number):<br>            spawn_point = carla.Transform()<br>            loc = self.world.get_random_location_from_navigation()<br>            <span class="hljs-keyword">if</span> (loc != <span class="hljs-literal">None</span>):<br>                spawn_point.location = loc<br>                spawn_points.append(spawn_point)<br><br>        <span class="hljs-comment"># 2. 보행자 객체를 생성한다.</span><br><br>        batch = []<br>        walker_speed = []<br>        <span class="hljs-keyword">for</span> spawn_point <span class="hljs-keyword">in</span> spawn_points:<br>            walker_bp = random.choice(self.blueprintsWalkers)<br>            <span class="hljs-comment"># 무적이 아니도록 설정</span><br>            <span class="hljs-keyword">if</span> walker_bp.has_attribute(<span class="hljs-string">'is_invincible'</span>):<br>                walker_bp.set_attribute(<span class="hljs-string">'is_invincible'</span>, <span class="hljs-string">'false'</span>)<br>            <span class="hljs-comment"># 최고 속도로 설정</span><br>            <span class="hljs-keyword">if</span> walker_bp.has_attribute(<span class="hljs-string">'speed'</span>):<br>                <span class="hljs-keyword">if</span> (random.random() &gt; percentagePedestriansRunning):<br>                    <span class="hljs-comment"># 걷는 보행자</span><br>                  walker_speed.append(walker_bp.get_attribute(<span class="hljs-string">'speed'</span>).recommended_values[<span class="hljs-number">1</span>])<br>                <span class="hljs-keyword">else</span>:<br>                    <span class="hljs-comment"># 달리는 보행자</span><br>                  walker_speed.append(walker_bp.get_attribute(<span class="hljs-string">'speed'</span>).recommended_values[<span class="hljs-number">2</span>])<br>            <span class="hljs-keyword">else</span>:<br>                logging.warning(<span class="hljs-string">"Walker has no speed"</span>)<br>                walker_speed.append(<span class="hljs-number">0.0</span>)<br>            batch.append(SpawnActor(walker_bp, spawn_point))<br><br>        results = self.client.apply_batch_sync(batch, <span class="hljs-literal">True</span>)<br>        walker_speed2 = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(results)):<br>            <span class="hljs-keyword">if</span> results[i].error:<br>                <span class="hljs-keyword">pass</span><br>            <span class="hljs-keyword">else</span>:<br>                self.walkers_list.append(&#123;<span class="hljs-string">"id"</span>: results[i].actor_id&#125;)<br>                walker_speed2.append(walker_speed[i])<br>        walker_speed = walker_speed2<br>        <span class="hljs-comment"># 3. 보행자 controller를 설정</span><br>        batch = []<br>        walker_controller_bp = self.world.get_blueprint_library().find(<span class="hljs-string">'controller.ai.walker'</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(self.walkers_list)):<br>            batch.append(SpawnActor(walker_controller_bp, carla.Transform(), self.walkers_list[i][<span class="hljs-string">"id"</span>]))<br>        results = self.client.apply_batch_sync(batch, <span class="hljs-literal">True</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(results)):<br>            <span class="hljs-keyword">if</span> results[i].error:<br>                <span class="hljs-keyword">pass</span><br>            <span class="hljs-keyword">else</span>:<br>                self.walkers_list[i][<span class="hljs-string">"con"</span>] = results[i].actor_id<br>        <span class="hljs-comment"># 4. 모든 보행자와 보행자 controller의 id를 각각을 설정</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(self.walkers_list)):<br>            self.all_id.append(self.walkers_list[i][<span class="hljs-string">"con"</span>])<br>            self.all_id.append(self.walkers_list[i][<span class="hljs-string">"id"</span>])<br>        all_actors = self.world.get_actors(self.all_id)<br><br>        <span class="hljs-comment"># 5. 각 controller를 초기화하고 대상을 걸어갈 타켓 설정</span><br>        <span class="hljs-comment"># 길을 건널 수 있는 보행자수 설정</span><br>        self.world.set_pedestrians_cross_factor(percentagePedestriansCrossing)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(self.all_id), <span class="hljs-number">2</span>):<br>            <span class="hljs-comment"># 보행자 설정 시작</span><br>            all_actors[i].start()<br>            <span class="hljs-comment"># 보행자에게 랜덤 생성 위치 설정</span><br>            all_actors[i].go_to_location(self.world.get_random_location_from_navigation())<br>            <span class="hljs-comment"># 속도는 최대로 설정</span><br>            all_actors[i].set_max_speed(float(walker_speed[int(i / <span class="hljs-number">2</span>)]))<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.args.sync <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> synchronous_master:<br>            self.world.wait_for_tick()<br>        <span class="hljs-keyword">else</span>:<br>            self.world.tick()<br><br>        count = len(self.walkers_list)<br>        count_fail = input_number - count<br>        print(<span class="hljs-string">'보행자 %d 오브젝트 충돌, 보행자 %d 스폰'</span> % (count_fail, count))<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ui_world_npc_vehicle</span><span class="hljs-params">(self, input_number)</span>:</span>    <span class="hljs-comment"># 차량 생성 함수</span><br>    SpawnActor = self.carla_package[<span class="hljs-number">0</span>]<br>    SetAutopilot = self.carla_package[<span class="hljs-number">1</span>]<br>    SetVehicleLightState = self.carla_package[<span class="hljs-number">2</span>]<br>    FutureActor = self.carla_package[<span class="hljs-number">3</span>]<br>    DestroyActor = self.carla_package[<span class="hljs-number">4</span>]<br><br>    <span class="hljs-comment"># test var</span><br>    target_actor_attr = TargetActorAttr(self.world)<br><br>    <span class="hljs-keyword">if</span> len(self.vehicles_list) &gt;= <span class="hljs-number">1</span>:  <span class="hljs-comment"># 생성된 차량 제거</span><br>        self.client.apply_batch([DestroyActor(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> self.vehicles_list])<br>        self.vehicles_list = []<br>        time.sleep(<span class="hljs-number">0.5</span>)<br><br>    <span class="hljs-keyword">if</span> input_number &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># 차량 생성</span><br>        batch = []<br>        <span class="hljs-keyword">for</span> n, transform <span class="hljs-keyword">in</span> enumerate(self.spawn_points):<br>            <span class="hljs-keyword">if</span> n &gt;= input_number:<br>                <span class="hljs-keyword">break</span><br>            blueprint = random.choice(self.blueprints)<br>            <span class="hljs-keyword">if</span> blueprint.has_attribute(<span class="hljs-string">'color'</span>):<br>                color = random.choice(blueprint.get_attribute(<span class="hljs-string">'color'</span>).recommended_values)<br>                blueprint.set_attribute(<span class="hljs-string">'color'</span>, color)<br>            <span class="hljs-keyword">if</span> blueprint.has_attribute(<span class="hljs-string">'driver_id'</span>):<br>             driver_id = random.choice(blueprint.get_attribute(<span class="hljs-string">'driver_id'</span>).recommended_values)<br>                blueprint.set_attribute(<span class="hljs-string">'driver_id'</span>, driver_id)<br><br>            <span class="hljs-comment"># light state 생성</span><br>            light_state = vls.NONE<br>            <span class="hljs-comment"># 자동차 자동주행 설정</span><br>            light_state = vls.Position | vls.LowBeam | vls.LowBeam<br><br>            <span class="hljs-comment"># 차량을 생성하고 자동주행과 light state을 동시에 설정</span><br>            batch.append(SpawnActor(blueprint, transform)<br>                         .then(SetAutopilot(FutureActor, <span class="hljs-literal">True</span>, self.traffic_manager.get_port()))<br>                         .then(SetVehicleLightState(FutureActor, light_state)))<br><br>            <span class="hljs-keyword">for</span> response <span class="hljs-keyword">in</span> self.client.apply_batch_sync(batch, self.synchronous_master):<br>                <span class="hljs-keyword">if</span> response.error:<br>                    <span class="hljs-keyword">pass</span><br>                <span class="hljs-keyword">else</span>:<br>                    self.traffic_manager.global_percentage_speed_difference(<span class="hljs-number">10.0</span>)  <span class="hljs-comment"># 제한 속도의 10% 속도로 주행</span><br>                    self.vehicles_list.append(response.actor_id)<br>        time.sleep(<span class="hljs-number">0.5</span>)<br><br>        count = len(self.vehicles_list)<br>        count_fail = input_number - count<br>        print(<span class="hljs-string">'차량 %d 오브젝트 충돌, 차량 %d 스폰'</span> % (count_fail, count))<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">NPC_Spawn</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># NPC 버튼 클릭 후 값 가져오기</span><br>    people = int(self.Edit_People.text())<br>    vehicle = int(self.Edit_Vehicle.text())<br>    self.ui_data.set_NPC_Spawn(people, vehicle)<br>    self._npc.ui_world_npc_vehicle(self.ui_data.A_vehicle)<br>    self._npc.ui_world_npc_walker(self.ui_data.A_people)<br>    print(<span class="hljs-string">"Spawn Complete"</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">groupbox_Time_Function</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># 시간 변경 radio 버튼 함수</span><br>    elapsed_time = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">if</span> self.radioButton_1.isChecked():<br>        self.ui_data.B_sun_type = <span class="hljs-string">"midday"</span><br>    <span class="hljs-keyword">elif</span> self.radioButton_2.isChecked():<br>        self.ui_data.B_sun_type = <span class="hljs-string">"sunset"</span><br>    <span class="hljs-keyword">elif</span> self.radioButton_3.isChecked():<br>        self.ui_data.B_sun_type = <span class="hljs-string">"midnight"</span><br>    <span class="hljs-keyword">elif</span> self.radioButton_auto.isChecked():<br>        <span class="hljs-keyword">if</span> self.ui_data.B_remote <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br>            self.ui_data.B_remote = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">else</span>:<br>            self.ui_data.B_remote = <span class="hljs-literal">True</span><br>    self._weather_set = ui.UI_INPUT_CONTROL().return_weather(clouds=self.ui_data.C_cloud, rain=self.ui_data.C_rain, <br>    wetness=self.ui_data.C_rain * <span class="hljs-number">5</span>, puddles=self.ui_data.C_rain, wind=self.ui_data.C_wind,fog=self.ui_data.C_fog, <br>    remote=self.ui_data.C_remote)<br>    self._sun_set = ui.UI_INPUT_CONTROL().return_sun_type(sun_type=self.ui_data.B_sun_type, remote=self.ui_data.B_remote)<br>    timestamp = self.world.wait_for_tick().timestamp<br>    elapsed_time += timestamp.delta_seconds<br>    self._weather.tick(elapsed_time, self._weather_set, self._sun_set)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">show_Slider_weather</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># 날씨 번경 Slider</span><br>    elapsed_time = <span class="hljs-number">0</span><br>    self.ui_data.C_fog = self.horizontalSlider_fog.value()<br>    self.ui_data.C_rain = self.horizontalSlider_rain.value()<br>    self.ui_data.C_wind = self.horizontalSlider_wind.value()<br>    self.ui_data.C_cloud = self.horizontalSlider_clouds.value()<br>    self._weather_set = ui.UI_INPUT_CONTROL().return_weather(clouds=self.ui_data.C_cloud, rain=self.ui_data.C_rain, <br>    wetness=self.ui_data.C_rain * <span class="hljs-number">5</span>, puddles=self.ui_data.C_rain, wind=self.ui_data.C_wind,fog=self.ui_data.C_fog, <br>    remote=self.ui_data.C_remote)<br>    self._sun_set = ui.UI_INPUT_CONTROL().return_sun_type(sun_type=self.ui_data.B_sun_type, remote=self.ui_data.B_remote)<br>    timestamp = self.world.wait_for_tick().timestamp<br>    elapsed_time += timestamp.delta_seconds<br>    self._weather.tick(elapsed_time, self._weather_set, self._sun_set)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">show_checkBox_weather</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># 날씨 번경 checkBox</span><br>    <span class="hljs-keyword">if</span> self.checkBox_weather_auto.isChecked():<br>        <span class="hljs-keyword">if</span> self.ui_data.C_remote <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br>            self.ui_data.C_remote = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">else</span>:<br>            self.ui_data.C_remote = <span class="hljs-literal">True</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">speed_control</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># 속도 제어</span><br>    speed = int(self.lineEdit_speed.text())<br>    self.ui_data.D_speed = speed<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">auto_control</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># Auto</span><br>    <span class="hljs-keyword">if</span> self.checkBox_etc_auto.isChecked():<br>        <span class="hljs-keyword">if</span> self.ui_data.D_remote <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br>            self.ui_data.D_remote = <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">else</span>:<br>            self.ui_data.D_remote = <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>Screenshot - 기능동작</p>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/13.png" width="600" alt="보행자/차량 생성"/>
 </div>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/14.png" width="600" alt="시간 변경"/>
 </div>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/15.png" width="600" alt="날씨 변경"/>
 </div>
</blockquote>
<h3 id="센서를-통한-데이터-수집-프로그램-개요"><a href="#센서를-통한-데이터-수집-프로그램-개요" class="headerlink" title="센서를 통한 데이터 수집 프로그램 개요"></a>센서를 통한 데이터 수집 프로그램 개요</h3><ul>
<li>센서를 통한 데이터 수집은 Seneor_Manager class를 호출하여 센서를 생성하고 센서가 부착될 위치와 세부 옵션을 설정할 수 있음<ul>
<li>Camera_Rgb : 카메라 위치(x, y, z, roll, pitch, yaw)와 이미지의 크기, fov(카메라의 수평시야), Shutter 속도, 감도 등의 촬영 옵션을 설정해 촬영</li>
<li>Camera_Depth : RGB 카메라처럼 이미지를 저장하고 carla.ColorConverter.Depth을 적용해 깊이를 이미지에 적용</li>
<li>Sensor_Lidar : 레이저의 수, 각도, 측정거리, 포인트 수 등을 설정해 촬영</li>
</ul>
</li>
</ul>
<blockquote>
<p>Screenshot</p>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/16.png" width="600"/>
 </div>

<p>Setting 버튼은 사용자가 선택한 센서를 데이터 수집 차량의 부착함</p>
<ul>
<li>센서의 속성과 차량의 부착위치는 각각의 editbox에 값으로 설정됨</li>
<li>Play 버튼을 통해 센서의 데이터 수집을 시작함</li>
<li>Stop 버튼을 통해 센서의 데이터 수집을 멈출 수 있음</li>
</ul>
</blockquote>
<h3 id="Carla-GUI-py-1"><a href="#Carla-GUI-py-1" class="headerlink" title="Carla_GUI.py"></a>Carla_GUI.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sensor_Manager</span><span class="hljs-params">(object)</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, world, target, config)</span>:</span><br>        self.check = <span class="hljs-literal">False</span><br>        self.index = <span class="hljs-number">-1</span><br>        self.world = world<br>        self.target = target<br>        self.args = config<br>        self.sensor = <span class="hljs-literal">None</span><br>        self.recoding_check = <span class="hljs-literal">False</span><br>        self.radar_sensor = <span class="hljs-literal">None</span><br>        self.sensor_imu = <span class="hljs-literal">None</span><br>        self.sensor_gnss = <span class="hljs-literal">None</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_recording</span><span class="hljs-params">(self, check=False)</span>:</span><br>        self.sensor.set_recording(self.recoding_check)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">recording</span><span class="hljs-params">(self)</span>:</span>  <span class="hljs-comment"># 녹화 시작과 녹화 종료 설정</span><br>        <span class="hljs-keyword">if</span> self.recoding_check <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span>:<br>            self.recoding_check = <span class="hljs-literal">True</span><br>            print(<span class="hljs-string">"녹화시작"</span>)<br>        <span class="hljs-keyword">elif</span> self.recoding_check <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br>            self.recoding_check = <span class="hljs-literal">False</span><br>            print(<span class="hljs-string">"녹화종료"</span>)<br>        self.sensor.set_recording(self.recoding_check)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">select_sensor</span><span class="hljs-params">(self, index=<span class="hljs-number">-1</span>, sensor_option=None, sensor_position=None)</span>:</span><br>        self.args.sensor_option = sensor_option<br>        self.args.sensor_position = sensor_position<br>        <span class="hljs-keyword">if</span> self.sensor <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">if</span> index == <span class="hljs-number">-1</span>:<br>                print(<span class="hljs-string">"sensor Camera_Rgb"</span>)<br>                self.sensor = Camera_Rgb(self.world, self.target, self.args)<br>            <span class="hljs-keyword">elif</span> index == <span class="hljs-number">0</span>:<br>                print(<span class="hljs-string">"sensor Camera_Rgb"</span>)<br>                self.sensor = Camera_Rgb(self.world, self.target, self.args)<br>            <span class="hljs-keyword">elif</span> index == <span class="hljs-number">1</span>:<br>                print(<span class="hljs-string">"sensor Camera_Depth"</span>)<br>                self.sensor = Camera_Depth(self.world, self.target, self.args)<br>            <span class="hljs-keyword">elif</span> index == <span class="hljs-number">2</span>:<br>                print(<span class="hljs-string">"sensor Lidar"</span>)<br>                self.sensor = Sensor_Lidar(self.world, self.target, self.args)<br><br>            <span class="hljs-keyword">return</span> self.sensor<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> self.sensor<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">destroy</span><span class="hljs-params">(self)</span>:</span><br>        self.sensor.destroy()<br>        <span class="hljs-keyword">if</span> self.radar_sensor <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            self.radar_sensor.destroy()<br>        <span class="hljs-keyword">if</span> self.sensor_imu <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            self.sensor_imu.destroy()<br>        <span class="hljs-keyword">if</span> self.sensor_gnss <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            self.sensor_gnss.destroy()<br>        self.radar_sensor = <span class="hljs-literal">None</span><br>        self.sensor = <span class="hljs-literal">None</span><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sensor_Lidar</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, world, target, config)</span>:</span><br>        self.world = world<br>        self.bp_library = world.get_blueprint_library()<br>        self.target = target<br>        self.sensorActor = <span class="hljs-literal">None</span><br>        self.recording = <span class="hljs-literal">False</span><br>        self.surface = <span class="hljs-literal">None</span>  <span class="hljs-comment"># &lt;- 2020-08-07추가</span><br>        self.dim = (config.width, config.height)<br><br>        self.sensor_option = config.sensor_option<br>        self.sensor_position = config.sensor_position<br>        item = self.sensor_option<br><br>        bp_library = world.get_blueprint_library()<br>        bp = bp_library.find(item[<span class="hljs-number">0</span>])<br>        <span class="hljs-keyword">for</span> attr_name, attr_value <span class="hljs-keyword">in</span> item[<span class="hljs-number">2</span>].items():<br>            bp.set_attribute(attr_name, attr_value)<br>            <span class="hljs-keyword">if</span> attr_name == str(<span class="hljs-string">'range'</span>):<br>                print(<span class="hljs-string">"check====="</span>)<br>                self.lidar_range = float(attr_value)<br><br>        sensor = self.world.spawn_actor(bp, self.sensor_position, attach_to=self.target)<br>        weak_self = weakref.ref(self)<br>        sensor.listen(<span class="hljs-keyword">lambda</span> point_cloud: Sensor_Lidar._parse_image(weak_self, point_cloud, item[<span class="hljs-number">1</span>]))<br>        self.sensorActor = sensor  <span class="hljs-comment"># 설정된 센서 저장.</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_recording</span><span class="hljs-params">(self, check=False)</span>:</span><br>        self.recording = check<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">destroy</span><span class="hljs-params">(self)</span>:</span>  <span class="hljs-comment"># target 센서 제거.</span><br>        self.sensorActor.destroy()<br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_parse_image</span><span class="hljs-params">(weak_self, image, id)</span>:</span>  <span class="hljs-comment"># 센서 수집 이미지 저장</span><br>        self = weak_self()<br>        <span class="hljs-keyword">if</span> self.recording:<br>            simulation_time = image.timestamp<br>            time = datetime.timedelta(seconds=int(simulation_time))<br>            time = str(time).replace(<span class="hljs-string">':'</span>, <span class="hljs-string">'-'</span>)<br>            image.save_to_disk(<span class="hljs-string">'sensor/'</span> + str(id) + <span class="hljs-string">'/%s'</span> % time + <span class="hljs-string">'/%08d'</span> % image.frame)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">render</span><span class="hljs-params">(self, display)</span>:</span><br>        <span class="hljs-keyword">if</span> self.surface <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            display.blit(self.surface, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Camera_Depth</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, world, target, config)</span>:</span><br>        self.world = world<br>        self.bp_library = world.get_blueprint_library()<br>        self.target = target<br>        self.sensorActor = <span class="hljs-literal">None</span><br>        self.recording = <span class="hljs-literal">False</span><br>        self.surface = <span class="hljs-literal">None</span><br><br>        self.sensor_option = config.sensor_option<br>        self.sensor_position = config.sensor_position<br>        item = self.sensor_option<br><br>        bp_library = world.get_blueprint_library()<br>        bp = bp_library.find(item[<span class="hljs-number">0</span>])<br>        <span class="hljs-keyword">for</span> attr_name, attr_value <span class="hljs-keyword">in</span> item[<span class="hljs-number">4</span>].items():<br>            bp.set_attribute(attr_name, attr_value)<br><br>        sensor = self.world.spawn_actor(bp, self.sensor_position, attach_to=self.target)<br>        weak_self = weakref.ref(self)<br>        sensor.listen(<span class="hljs-keyword">lambda</span> image: Camera_Depth._parse_image(weak_self, image, item[<span class="hljs-number">1</span>], item[<span class="hljs-number">3</span>]))<br>        self.sensorActor = sensor  <span class="hljs-comment"># 설정된 센서 저장.</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_recording</span><span class="hljs-params">(self, check=False)</span>:</span><br>        self.recording = check<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">destroy</span><span class="hljs-params">(self)</span>:</span>  <span class="hljs-comment"># target 센서 제거.</span><br>        self.sensorActor.destroy()<br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_parse_image</span><span class="hljs-params">(weak_self, image, cc, id)</span>:</span><br>        self = weak_self()<br><br>        image.convert(cc)<br>        array = np.frombuffer(image.raw_data, dtype=np.dtype(<span class="hljs-string">"uint8"</span>))<br>        array = np.reshape(array, (image.height, image.width, <span class="hljs-number">4</span>))<br>        array = array[:, :, :<span class="hljs-number">3</span>]<br>        array = array[:, :, ::<span class="hljs-number">-1</span>]<br><br>        <span class="hljs-keyword">if</span> self.recording:<br>            simulation_time = image.timestamp<br>            time = datetime.timedelta(seconds=int(simulation_time))<br>            time = str(time).replace(<span class="hljs-string">':'</span>, <span class="hljs-string">'-'</span>)<br>            image.save_to_disk(<span class="hljs-string">'sensor/'</span> + str(id) + <span class="hljs-string">'/%s'</span> % time + <span class="hljs-string">'/%08d'</span> % image.frame)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">render</span><span class="hljs-params">(self, display)</span>:</span><br>        <span class="hljs-keyword">if</span> self.surface <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            display.blit(self.surface, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Camera_Rgb</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, world, target, config)</span>:</span><br>        self.world = world<br>        self.bp_library = world.get_blueprint_library()<br>        self.target = target<br>        self.sensorActor = <span class="hljs-literal">None</span><br>        self.recording = <span class="hljs-literal">False</span><br>        self.surface = <span class="hljs-literal">None</span><br><br>        self.sensor_option = config.sensor_option<br>        self.sensor_position = config.sensor_position<br>        item = self.sensor_option<br><br>        bp_library = world.get_blueprint_library()<br>        bp = bp_library.find(item[<span class="hljs-number">0</span>])<br>        <span class="hljs-keyword">for</span> attr_name, attr_value <span class="hljs-keyword">in</span> item[<span class="hljs-number">4</span>].items():<br>            bp.set_attribute(attr_name, attr_value)<br><br>        sensor = self.world.spawn_actor(bp, self.sensor_position, attach_to=self.target)<br>        weak_self = weakref.ref(self)<br>        sensor.listen(<span class="hljs-keyword">lambda</span> image: Camera_Rgb._parse_image(weak_self, image, item[<span class="hljs-number">1</span>], item[<span class="hljs-number">3</span>]))<br>        self.sensorActor = sensor  <span class="hljs-comment"># 설정된 센서 저장.</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_recording</span><span class="hljs-params">(self, check=False)</span>:</span><br>        self.recording = check<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">destroy</span><span class="hljs-params">(self)</span>:</span>  <span class="hljs-comment"># target 센서 제거.</span><br>        self.sensorActor.destroy()<br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_parse_image</span><span class="hljs-params">(weak_self, image, cc, id)</span>:</span><br>        self = weak_self()<br><br>        image.convert(cc)<br>        array = np.frombuffer(image.raw_data, dtype=np.dtype(<span class="hljs-string">"uint8"</span>))<br>        array = np.reshape(array, (image.height, image.width, <span class="hljs-number">4</span>))<br>        array = array[:, :, :<span class="hljs-number">3</span>]<br>        array = array[:, :, ::<span class="hljs-number">-1</span>]<br><br>        <span class="hljs-keyword">if</span> self.recording:<br>            simulation_time = image.timestamp<br>            time = datetime.timedelta(seconds=int(simulation_time))<br>            time = str(time).replace(<span class="hljs-string">':'</span>, <span class="hljs-string">'-'</span>)<br>            image.save_to_disk(<span class="hljs-string">'sensor/'</span> + str(id) + <span class="hljs-string">'/%s'</span> % time + <span class="hljs-string">'/%08d'</span> % image.frame)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Sensor_Play</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># QyPt 구현 부분</span><br>    print(<span class="hljs-string">"센서 데이터 수집"</span>)<br>    <span class="hljs-keyword">for</span> n, _sensor <span class="hljs-keyword">in</span> enumerate(self._sensor_list):<br>        _sensor.recording()<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Sensor_Stop</span><span class="hljs-params">(self)</span>:</span><br>    print(<span class="hljs-string">"센서 종료"</span>)<br>    <span class="hljs-keyword">for</span> n, _sensor <span class="hljs-keyword">in</span> enumerate(self._sensor_list):<br>        _sensor.recording()<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">closeEvent</span><span class="hljs-params">(self, event)</span>:</span> <span class="hljs-comment"># 창 종료시 이벤트 발생</span><br>    <span class="hljs-keyword">for</span> n, _sensor <span class="hljs-keyword">in</span> enumerate(self._sensor_list):<br>        _sensor.destroy()<br></code></pre></td></tr></table></figure>

<blockquote>
<p>Screenshot - 기능동작</p>
<div style="text-align : center;">
 <img src="/images/Carla-simulator/17.png" width="600" alt="각 센서 데이터 수집 예"/>
 </div>
</blockquote>
<h1 id="잡담"><a href="#잡담" class="headerlink" title="잡담"></a>잡담</h1><p>개발팀 spaceTime Lab은 공간정보에 관련된 여러 R&amp;D과제를 지도교수님 주도로 수행해왔다. 이번에 자율주행에 관한 흥미로운 주제를 가져오셔서 해당 연구과제를 수주하고 진행하게 되었다.<br>주력언어가 java였던 나는 Python을 다뤄보지않아 문법 자체를 몰랐다.<br>지도교수님이 진행하려던 과제는 <strong><em>실세계 정보를 반영한 오픈소스 기반의 자율주행 시뮬레이션 시스템 설계 및 구현</em></strong> 이 목표였다.<br>과제주제가 보기만 해도 사람 쫄리게 만드는 주제다.. 중요한건 자율주행에 관한 대부분의 플랫폼들은 실행언어로 대부분 C++이나 Python이 주력을 이루고 있었다.(한번도 써보지 않은 언어..)<br>본 연구에서 기반을 두었던 플랫폼은 Carla-Simulator였고 오픈소스 플랫폼이다. 그래서 모든것이 공개되어 있다.<br>그중 CarlaAPI는 C++로 자율주행 기능의 코어가 구현되어 변형하여 사용하거나 C++을 Python의 확장모듈로 변환하여 활용하는 방법이 있었다.<br>개발에 있어서 핵심 모듈을 수정하기보단 확장모듈로 API를 활용해 개발하는 것이 프로젝트 기간상 제한적인 시간동안 개발하기 수월하다고 생각하여 팀원들과 협의하에 Python으로 진행하게 되었다.</p>
<p>Python을 처음으로 써보는데도 문법이 단순하여 쉽게 받아드릴 수 있었다.(들여쓰기가 불편했다.)<br>java와는 다른 선언방법이 초기에만 불편함을 주었을 뿐이였고.. 코드 자체가 복잡하지 않았다. 기존의 Python으로 개발된 CarlaAPI의 오픈소스를 참고하여 선언방식이나 프로젝트의 구조 등 알아갔고<br>구글링이나 Python기초책을 봐가며 Java와는 다른 버퍼데이터를 처리하는 방법을 배워갔다. </p>
<p>Carla-Simulator의 오픈소스의 이점으로 누구나 비용적인 부분을 걱정없이 사용할 수 있다.<br>그덕인지 시뮬레이터의 빌드부터.. 시스템에러 등 엄청나게 다양한 이슈들이 Discord, Reddit, Github등 커뮤니티에 활발하게 공유되고 해결되고 있다.<br>덕분에 프로젝트 기간동안 벽에 부딪히는 대부분을 커뮤니티에서 이슈를 찾아 해결할수 있었다. ^_^ (삽질이 많았다는 뜻.)</p>
<p>변환하기 위한 정밀도로지도는 국토지리정보원에서 배포중인 데이터를 사용했다.<br>ShapeFile로 제공된 해당 데이터는 데이터 모델이 Node-Link 체계로 구성된다. 산업계표준모델인 OpenDRIVE로 변환해야 하는 과정이 별도로 필요한데<br>국토지리정보원에서 제공중인 정밀도로지도데이터의 내부는 도로의 레이어마다 ID형태로 이어져 있고 모든 교차로와 일반 주행도로의 Node간 연결이 안되어있다.<br>이를 연결해야하는데 정밀도로지도를 제작한 업체가 한곳이 아닌 여러곳이다. 업체마다 협의가 제대로 안된건지 제작업체마다 Node-Link ID가 다르다.<br>OpenDRIVE 변환을 위해서 Node-Link가 전부 연결된 상태로 중앙선을 임의로 만들어 변환해야 한다. 또한 포켓차로와 같이 추가차선들이 직선도로와 연결이 안된부분이 상당 수다.<br>지하차도의 구분이 안되어 있어 이또한 문제다.. 우리나라에서 제공한 정밀도로지도를 자율주행 시뮬레이터에 적용해 쓰기에는 현실적으로 많은 시간과 인력이 필요해보인다..<br>자율주행 수행을 위한 정밀도로지도의 세부적인 옵션이 부실하기 때문에 이게 개선되기까지 얼마나 기다려야할까 기대되는 부분이다..</p>

        </div>
        
        
        
    </div>
</div>








</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Kimbaro">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Kimbaro
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Kimbaro&#39;s Archive
                    </p>
                    
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        포스트
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            15
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        카테고리
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            22
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        태그
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            27
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            링크
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/Kimbaro/kimbaro.github.io/blob/master/profile/Profile.pdf" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Profile</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/Kimbaro" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Github</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            태그 클라우드
        </h3>
        <a href="/tags/Autonomous/" style="font-size: 10px;">Autonomous</a> <a href="/tags/Bluetooth/" style="font-size: 12.5px;">Bluetooth</a> <a href="/tags/Carla-Simulator/" style="font-size: 10px;">Carla-Simulator</a> <a href="/tags/Entity/" style="font-size: 10px;">Entity</a> <a href="/tags/GCP/" style="font-size: 17.5px;">GCP</a> <a href="/tags/Hibernate/" style="font-size: 12.5px;">Hibernate</a> <a href="/tags/Https/" style="font-size: 12.5px;">Https</a> <a href="/tags/JPA/" style="font-size: 15px;">JPA</a> <a href="/tags/Lambda/" style="font-size: 10px;">Lambda</a> <a href="/tags/ORM/" style="font-size: 12.5px;">ORM</a> <a href="/tags/SSH/" style="font-size: 12.5px;">SSH</a> <a href="/tags/SSL/" style="font-size: 12.5px;">SSL</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/SpringBoot/" style="font-size: 20px;">SpringBoot</a> <a href="/tags/Springboot/" style="font-size: 15px;">Springboot</a> <a href="/tags/chatting/" style="font-size: 10px;">chatting</a> <a href="/tags/deploy/" style="font-size: 17.5px;">deploy</a> <a href="/tags/gradle/" style="font-size: 12.5px;">gradle</a> <a href="/tags/%EB%B0%B0%ED%8F%AC/" style="font-size: 17.5px;">배포</a> <a href="/tags/%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/" style="font-size: 12.5px;">블루투스</a> <a href="/tags/%EC%86%8C%EC%BC%93/" style="font-size: 10px;">소켓</a> <a href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8/" style="font-size: 20px;">스프링부트</a> <a href="/tags/%EC%9E%98-%EC%95%8C%EB%A0%A4%EC%A7%84-%ED%8F%AC%ED%8A%B8/" style="font-size: 10px;">잘 알려진 포트</a> <a href="/tags/%EC%A0%80%EC%A0%84%EB%A0%A5/" style="font-size: 10px;">저전력</a> <a href="/tags/%EC%B1%84%ED%8C%85/" style="font-size: 10px;">채팅</a> <a href="/tags/%ED%86%B5%EC%8B%A0/" style="font-size: 12.5px;">통신</a> <a href="/tags/%ED%8F%AC%ED%8A%B8/" style="font-size: 10px;">포트</a>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                태그
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Autonomous/">
                        <span class="tag">Autonomous</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Bluetooth/">
                        <span class="tag">Bluetooth</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Carla-Simulator/">
                        <span class="tag">Carla-Simulator</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Entity/">
                        <span class="tag">Entity</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GCP/">
                        <span class="tag">GCP</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hibernate/">
                        <span class="tag">Hibernate</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Https/">
                        <span class="tag">Https</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JPA/">
                        <span class="tag">JPA</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Lambda/">
                        <span class="tag">Lambda</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ORM/">
                        <span class="tag">ORM</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSH/">
                        <span class="tag">SSH</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSL/">
                        <span class="tag">SSL</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Socket/">
                        <span class="tag">Socket</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SpringBoot/">
                        <span class="tag">SpringBoot</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Springboot/">
                        <span class="tag">Springboot</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/chatting/">
                        <span class="tag">chatting</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/deploy/">
                        <span class="tag">deploy</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gradle/">
                        <span class="tag">gradle</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%EB%B0%B0%ED%8F%AC/">
                        <span class="tag">배포</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/">
                        <span class="tag">블루투스</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%EC%86%8C%EC%BC%93/">
                        <span class="tag">소켓</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8/">
                        <span class="tag">스프링부트</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%EC%9E%98-%EC%95%8C%EB%A0%A4%EC%A7%84-%ED%8F%AC%ED%8A%B8/">
                        <span class="tag">잘 알려진 포트</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%EC%A0%80%EC%A0%84%EB%A0%A5/">
                        <span class="tag">저전력</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%EC%B1%84%ED%8C%85/">
                        <span class="tag">채팅</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%ED%86%B5%EC%8B%A0/">
                        <span class="tag">통신</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%ED%8F%AC%ED%8A%B8/">
                        <span class="tag">포트</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                카테고리
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/">
            <span class="level-start">
                <span class="level-item">(Tutorial) Deploy-SpringBoot-Netty</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/1-%EA%B8%B0%EB%B3%B8%EB%B0%B0%ED%8F%AC/">
            <span class="level-start">
                <span class="level-item">1 - 기본배포</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/2/">
            <span class="level-start">
                <span class="level-item">2</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/3/">
            <span class="level-start">
                <span class="level-item">3</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/4/">
            <span class="level-start">
                <span class="level-item">4</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/5-SSL%EC%A0%81%EC%9A%A9/">
            <span class="level-start">
                <span class="level-item">5 - SSL적용</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/6/">
            <span class="level-start">
                <span class="level-item">6</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Reactor-Pattern/">
            <span class="level-start">
                <span class="level-item">Reactor-Pattern</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Reactor-Pattern/java-NIO/">
            <span class="level-start">
                <span class="level-item">java.NIO</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Simulator/">
            <span class="level-start">
                <span class="level-item">Simulator</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Simulator/Carla-Simulator/">
            <span class="level-start">
                <span class="level-item">Carla-Simulator</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/">
            <span class="level-start">
                <span class="level-item">SpringBoot-JPA</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/1-Hibernate/">
            <span class="level-start">
                <span class="level-item">1 - Hibernate</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/2-SpringData-JPA/">
            <span class="level-start">
                <span class="level-item">2 - SpringData-JPA</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/3-Entity/">
            <span class="level-start">
                <span class="level-item">3 - Entity</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/java8-JDK1-8/">
            <span class="level-start">
                <span class="level-item">java8(JDK1.8)</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/java8-JDK1-8/Lambda-Expression-1/">
            <span class="level-start">
                <span class="level-item">Lambda Expression - 1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/">
            <span class="level-start">
                <span class="level-item">안드로이드 블루투스</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/BLE-%ED%86%B5%EC%8B%A0/">
            <span class="level-start">
                <span class="level-item">BLE 통신</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/Classic-%ED%86%B5%EC%8B%A0/">
            <span class="level-start">
                <span class="level-item">Classic 통신</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/%ED%8F%AC%ED%8A%B8-%EB%AA%A9%EB%A1%9D/">
            <span class="level-start">
                <span class="level-item">포트 목록</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%ED%8F%AC%ED%8A%B8-%EB%AA%A9%EB%A1%9D/well-known-port/">
            <span class="level-start">
                <span class="level-item">well-known port</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li>
            </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            아카이브
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2021/01/">
                <span class="level-start">
                    <span class="level-item">1월 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/11/">
                <span class="level-start">
                    <span class="level-item">11월 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">3월 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">2월 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">9월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">8월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">7월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">5월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                카테고리
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/">
            <span class="level-start">
                <span class="level-item">(Tutorial) Deploy-SpringBoot-Netty</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/1-%EA%B8%B0%EB%B3%B8%EB%B0%B0%ED%8F%AC/">
            <span class="level-start">
                <span class="level-item">1 - 기본배포</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/2/">
            <span class="level-start">
                <span class="level-item">2</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/3/">
            <span class="level-start">
                <span class="level-item">3</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/4/">
            <span class="level-start">
                <span class="level-item">4</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/5-SSL%EC%A0%81%EC%9A%A9/">
            <span class="level-start">
                <span class="level-item">5 - SSL적용</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Tutorial-Deploy-SpringBoot-Netty/6/">
            <span class="level-start">
                <span class="level-item">6</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Reactor-Pattern/">
            <span class="level-start">
                <span class="level-item">Reactor-Pattern</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Reactor-Pattern/java-NIO/">
            <span class="level-start">
                <span class="level-item">java.NIO</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Simulator/">
            <span class="level-start">
                <span class="level-item">Simulator</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Simulator/Carla-Simulator/">
            <span class="level-start">
                <span class="level-item">Carla-Simulator</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/">
            <span class="level-start">
                <span class="level-item">SpringBoot-JPA</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/1-Hibernate/">
            <span class="level-start">
                <span class="level-item">1 - Hibernate</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/2-SpringData-JPA/">
            <span class="level-start">
                <span class="level-item">2 - SpringData-JPA</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/SpringBoot-JPA/3-Entity/">
            <span class="level-start">
                <span class="level-item">3 - Entity</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/java8-JDK1-8/">
            <span class="level-start">
                <span class="level-item">java8(JDK1.8)</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/java8-JDK1-8/Lambda-Expression-1/">
            <span class="level-start">
                <span class="level-item">Lambda Expression - 1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/">
            <span class="level-start">
                <span class="level-item">안드로이드 블루투스</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/BLE-%ED%86%B5%EC%8B%A0/">
            <span class="level-start">
                <span class="level-item">BLE 통신</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4/Classic-%ED%86%B5%EC%8B%A0/">
            <span class="level-start">
                <span class="level-item">Classic 통신</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/%ED%8F%AC%ED%8A%B8-%EB%AA%A9%EB%A1%9D/">
            <span class="level-start">
                <span class="level-item">포트 목록</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%ED%8F%AC%ED%8A%B8-%EB%AA%A9%EB%A1%9D/well-known-port/">
            <span class="level-start">
                <span class="level-item">well-known port</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li>
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            아카이브
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2021/01/">
                <span class="level-start">
                    <span class="level-item">1월 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/11/">
                <span class="level-start">
                    <span class="level-item">11월 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">3월 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">2월 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">9월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">8월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">7월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">5월 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.png" alt="-Kimbaro&#39;s Archive" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2021 DongYeon Kim&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("ko");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'https://kimbaro.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="입력 하세요..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '포스트',
                PAGES: '페이지',
                CATEGORIES: '카테고리',
                TAGS: '태그',
                UNTITLED: '(제목없음)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>